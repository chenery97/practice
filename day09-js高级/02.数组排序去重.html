<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // 不改变原数组的方法
      /* Array.prototype.sortAndRemoveRepeat = function () {
        // 为了不影响原数组，获取一个新数组
        var sortArr = this.slice();
        // 先排序
        sortArr.sort();
        // 声明新数组存放去重后的数组
        var newArr = [];
        sortArr.forEach((function (item, index) {
          if (item === this[index + 1]) {
            return;
          }
          newArr.push(item);
        }).bind(sortArr))

        return newArr;
      }

      var arr = [1, 3, 3, 5, 6, 2, 3, 2, 5, 0];
      var reArr = arr.sortAndRemoveRepeat();
      console.log(arr);
      console.log(reArr); */


      // 改变原数组的方法
      Array.prototype.sortAndRemoveRepeat = function () {
        // 先排序
        this.sort();
        // 遍历去重
        for (var i = 0; i < this.length; i++) {
          // 判断是否有重复的元素
          if (this[i] === this[i + 1]) {
            // 有则移除第一个
            this.splice(i, 1);
            // 移除后i要减1，不然会跳过一个元素，有可能还会出现重复的元素
            i--;
          }
        }
      }

      var arr = [1, 3, 3, 5, 6, 2, 3, 2, 5, 0];
      arr.sortAndRemoveRepeat();
      console.log(arr);
    </script>
  </body>
</html>
