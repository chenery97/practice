<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <ul id="con">
      <li>1</li>
      <li>2</li>
      <li>3</li>
      <li>4</li>
      <li>5</li>
      <li>6</li>
    </ul>
    <button id="btn">add li</button>

    <script>
      /* 
        文档碎片节点:
          要大量插入元素时，可以先把这些元素先插入到文档碎片对象中，最后再一次性把文档碎片对象插入到对应的元素下
          减少重排重绘，提升性能
          - 创建一个文档碎片对象
            document.createDocumentFragment();
          - 添加元素到文档碎片对象中
            文档碎片对象.appendChild(要添加的元素);
          - 把文档碎片对象添加到元素中
            parentNode.appendChild(文档碎片对象);
      */
      var oCon = document.getElementById('con');
      var oBtn = document.querySelector('#btn');
      var frag = document.createDocumentFragment();

      oBtn.onclick = function () {
        for(var i = 0; i < 100; i++) {
          var newLi = document.createElement('li');
          newLi.innerText = i;
          frag.appendChild(newLi);
        }
        console.log(frag); // 插入后里面的元素就没有了，即使在插入前读取，也是没有的
        oCon.appendChild(frag);
      }
    </script>
  </body>
</html>
